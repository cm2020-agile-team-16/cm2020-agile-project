<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - <%= app_name %></title>
    <link rel="stylesheet" href="/styles/general.css">
    <link rel="stylesheet" href="/styles/dashboard.css">
</head>
<body>
    <!-- HEADER -->
    <header>
        <div class="container">
            <a href="/" class="logo">
                <h1><%= app_name %></h1>
            </a>
            <nav>
                <ul>
                    <li><a href="/user/edit-income">My Income</a></li>
                    <li><a href="/user/edit-expense">My Expenses</a></li>
                    <li><a href="/summary">Summary</a></li>
                    <li><a href="/settings">My Account</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- MAIN -->
    <main>
        <div>
            <h1>My Dashboard</h1>
            <h2>Welcome back, <%= firstName %></h2>
        </div>
        <div>
            <p>Current Balance: $<%= balance %></p>
            <p>Total Income: $<%= totalIncome %></p>
            <p>Total Expenses: $<%= totalExpenses %></p>
        </div>
        <section>
            <h2>Recent Transactions</h2>
            <ul>
                <% recentTransactions.forEach(function(transaction) { %>
                    <li>
                        $<%= transaction.amount %> 
                        <%= transaction.type === 'income' ? 'from' : 'for' %> 
                        <%= transaction.category %> (<%= transaction.source %>) 
                        on <%= new Date(transaction.date).toLocaleDateString() %>
                        <a href="/user/edit-<%= transaction.type %>?id=<%= transaction.id %>">Edit</a>
                        <a href="/delete/<%= transaction.type %>/<%= transaction.id %>">Delete</a>
                    </li>
                <% }) %>
            </ul>
        </section>
        <nav>
            <a href="/summary">View Summary</a>
        </nav>
    </main>
</body>
</html>